<div *ngIf="procedures && clinic" class="procedure">

    <accordion *ngFor="let p of procedures; let i = index;" [showArrows]="true" [closeOthers]="false" [expandAll]="false">

        <!-- Procedure Description Modal-->
        <div id="procDescModal" class="modal fade" role="dialog">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">{{p.name}} Procedure Description</h4>
                    </div>
                    <div class="modal-body">
                        <p>{{p.description}}</p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
        
        <accordion-group heading="{{p.name}}">
            <div class="row">
                <div class="col-lg-6 ">
                    <label class="form-control"> Clinic: {{clinic.clinicName}}</label>
                </div>
                <div class="col-lg-6">
                    <label class="form-control"> Phone number: {{clinic.phoneNumber}}</label>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-6 ">
                    <label class="form-control"> Doctor: {{clinic.firstName}} {{clinic.lastName}}</label>
                </div>
                <div class="col-lg-6">
                    <label class="form-control"> Time: {{schedule[i] | date:"fullDate"}} - {{schedule[i] +"-08:00" | date: "hh:mm a"}}</label>
                </div>
            </div>
            <div class="row text-center">
                <div class="col-lg-6">
                    <button class="btn btn-primary btn-block" (click)="loadMeds(p.procedureId)"> Medication </button>
                </div>
                <div class="col-lg-6">
                    <button class="btn btn-primary btn-block" (click)="loadProcDetails(p.procedureId)"> Instruction </button>
                </div>
            </div>
            <div class="row" id="procedureDetailsBtn">
                <div class="col-lg-12">
                    <button class="btn btn-primary btn-block" data-toggle="modal" data-target="#procDescModal"> Procedure Details </button>
                </div>
            </div>
            <div *ngIf="isComplete[i]" class="row" id="postSurgeryBtn">
            <!-- <div class="row" id="postSurgeryBtn"> -->
                <div class="col-lg-12">
                    <button class="btn btn-danger btn-block" (click)="loadQuestions(p.procedureId)"> Post Surgery Survey! </button>
                </div>
            </div>
        </accordion-group>
    </accordion>
</div>

